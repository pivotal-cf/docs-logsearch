---
title: Installing Pivotal Cloud Foundry&reg; Log Search
owner: London Services
---

This document describes how to install and configure PCF Log Search.

# Install via Pivotal Operations Manager

To install PCF Log Search, follow the standard procedure for installing Pivotal Ops Manager tiles:

1. Download the product file from the [PCF Metrics section of Pivotal Network](https://network.pivotal.io/products/pcf-metrics#/releases/1832).
2. Upload the product file to your Ops Manager installation.
3. Click **Add** next to the uploaded product description in the Available Products view to add this product to your staging area.
    1. Add Log Search tile 
    2. Configure Assign AZs and Networks.
        1.  Do NOT jobs between multiple AZs if your environment has relatively high network latency between AZs ( &gt; 5ms )
    3. Configure Settings 
        1. Log retention period in days (defaults to 7)
        2. **NATS Credentials for the OpsManager Director ** ( you can get these from the Ops Manager Director Tile > Credentials tab )
4. Apply changes to install `Log Search`

*Note: Log Search requires the NATS credentials for the OpsManager Director, NOT the Elastic Runtime*

## Elastic Runtime and Data Service Component Logs

You can configure the Elastic Runtime and other Data Service tiles to send their component logs to the Log Search router via syslog over TCP.

*Note: Syslog over UDP or RELP is not supported*

1. Navigate to Log Search Tile > Status, and find the `Router` VM's IP.
2. Update other tiles Syslog forwarder settings using above IP, port 514 and protocol TCP eg:
    1. Update Pivotal Elastic Runtime Tile > System Logging endpoints using above IP, port 514 and protocol TCP.
    2. Update RabbitMQ for PCF tile > Syslog using above IP, port 514.
3. Apply Changes

## Kibana 

Kibana is a web application that allows you to search logs sent to Log Search, construct visualizations of searches 
and construct dashboards from collections of visualizations.

Kibana is available at:

[https://logsearch. &lt; system_domain &gt;](#)

You can find the Kibana login credentials on the Log Search > Credentials tab in Ops Manager as part of the Kibana job.

Upon first access of Kibana, you will be prompted to create an index pattern.  

Use:

* Index name or pattern: logstash-*
* Time-field name: @timestamp

![Kibana Index pattern config screenshot](images/index-pattern-config.png) 

## PCF Firehose - Application Logs and Component Metrics

You can attach to the PCF Elastic Runtimeâ€™s firehose to ingest Application Logs and Platform Metrics.

To enable ingesting the firehose, 

1. Navigate to Log Search Tile > Resource Config > Firehose to Syslog and change from 0 to 1 instances

2. Apply changes

*Warning! The PCF firehose sends a ***_large_*** amount of data; and you will probably find yourself 
having to scale up your cluster to handle the additional load.  Please see the Scaling section of this documentation for more details*